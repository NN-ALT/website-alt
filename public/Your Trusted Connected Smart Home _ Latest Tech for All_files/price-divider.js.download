(function () {
    if (typeof window.showAtomePriceDivider !== "undefined" && window.showAtomePriceDivider === false) {
        return;
    }

    const currentDomain = document.querySelector('script[src*="https://gateway.apaylater.net/plugins/wc/price-divider.js"]')
        ? 'gateway.apaylater.net'
        : 'gateway.apaylater.com';

    const insertDomainJs = (callback) => {
        const domainsScript = document.createElement('script')
        domainsScript.src = `https://${currentDomain}/plugins/price_divider/domains.js`;
        domainsScript.type = 'text/javascript';
        domainsScript.onload = callback
        domainsScript.onerror = callback
        const head = document.getElementsByTagName('head')[0];
        head.appendChild(domainsScript);
    }

    const insertNewPriceDivider = () => {
        const domainsScript = document.createElement('script')
        domainsScript.src = `https://${currentDomain}/plugins/price_divider/main.js`;
        domainsScript.type = 'text/javascript';
        const head = document.getElementsByTagName('head')[0];
        head.appendChild(domainsScript);
    }

    const atomeJqueryPromise = function (method) {
        if (window.jQuery) {
            method()
        } else {
            setTimeout(function () {
                atomeJqueryPromise(method)
            }, 100);
        }
    }


    const generateAtomePriceDivider = function () {
        jQuery(function () {
            var $ = jQuery;
            if (/scoliolife.com/.test(location.hostname) && !/en_SG\//.test(location.pathname)) {
                $('.atome-wc-price-divider').remove();
                return;
            }

            if (/jmattress.co/.test(location.hostname)) {
                $('.bwp-single-info .summary .price + .atome-wc-price-divider').remove();
                return;
            }

            if (/thepeppycurator.com/.test(location.hostname)) {
                $('.atome-wc-price-divider').remove();
            }

            if (
                typeof atomePaymentPluginPriceDividerOptions != 'undefined' &&
                atomePaymentPluginPriceDividerOptions.price_divider !== 'yes'
            ) {
                return;
            }

            if (/illy.my/.test(location.hostname)) {
                $('.atome-wc-price-divider').each((index, ele) => {
                    const $this = $(ele);
                    $this.find('.atome-icon').remove();
                    $this.children('span').children('span').contents().each((index, node) => {
                        if (node.nodeType == 3 && node.nodeValue.trim() === 'with') {
                            node.remove();
                        }
                    });
                });

            }

            String.prototype.AtomeFormat = function (tokens) {
                var formatted = this;
                for (var key in tokens) {
                    if (tokens.hasOwnProperty(key)) {
                        formatted = formatted.replace(RegExp('{' + key + '}', 'g'), tokens[key]);
                    }
                }
                return formatted;
            };

            const script = document.currentScript;
            let {country = 'sg', lang = 'en'} = queryParams(script && script.src);
            country = (typeof atomePaymentPluginPriceDividerOptions != 'undefined' && atomePaymentPluginPriceDividerOptions?.country) || country;

            const countryConfig = {
                sg: {
                    country: 'sg',
                    language: 'en',
                    currency: 'SGD',
                    currency_symbol: '$',
                },
                hk: {
                    country: 'hk',
                    language: 'zh',
                    currency: 'HKD',
                    currency_symbol: 'HK$',
                },
                my: {
                    country: 'my',
                    language: 'en',
                    currency: 'MYR',
                    currency_symbol: 'RM ',
                },
                id: {
                    country: 'id',
                    language: 'en',
                    currency: 'IDR',
                    currency_symbol: '',
                },
                th: {
                    country: 'th',
                    language: 'en',
                    currency: 'THB',
                    currency_symbol: '฿',
                },
                tw: {
                    country: 'tw',
                    language: 'zh',
                    currency: 'TWD',
                    currency_symbol: 'NT$',
                },
                ph: {
                    country: 'ph',
                    language: 'en',
                    currency: 'PHP',
                    currency_symbol: '₱',
                },
            };

            function queryParams(str) {
                if (!(str && str.includes('?'))) {
                    return {country: 'sg', lang: 'en'};
                }
                const paramsArr = str.split('?')[1].split('&');
                return paramsArr.reduce((acc, item) => {
                    const [k, v] = item.split('=');
                    acc[k] = v;
                    return acc;
                }, {});
            }

            if (typeof countryConfig[country] == 'undefined') {
                return;
            }

            const currentCurrency = countryConfig[country] ? countryConfig[country]['currency'] : 'SGD';

            var theme = '',
                opts = {};
            var logoUrl = 'https://gateway.apaylater.com/plugins/common/assets/svg/logo-pd.svg';
            var pluginCss = [
                '.atome-product-price-divider { font-size: 14px; line-height: 1.4; margin: 5px 0; }',
                '.atome-product-price-divider img.atome-logo[data-atome-logo] { display: inline-block; width: auto; height: 16px !important; vertical-align: text-bottom; cursor: pointer;margin: initial;}',
                '.atome-product-price-divider .atome-product-installment-price { font-weight: bold; color: #000000; }',
            ];

            if (/illy.my/.test(location.hostname)) {
                opts['priceTemplate'] = "or 3 payments of {installment_price}";
            }

            if (/ola.tech/.test(location.hostname) && /\/zh-hk\//.test(location.pathname)) {
                opts['priceTemplate'] = "或分三期付款，每期為 {installment_price} {atome_logo}";
            }

            var isProductPage = /\/product\/|\/商品\//.test(decodeURI(location.pathname));
            if (/nosda.com.my|neovable.com|whathewants.com.my/.test(location.hostname)) {
                isProductPage = /\/shop\/\w+/.test(decodeURI(location.pathname));
            }
            if (/vearst.co|originmattress.com.my|floordepot2u.com/.test(location.hostname)) {
                $('.atome-icon').each(function () {
                    $(this).parent().parent().remove();
                });
            }

            var isAnyPriceDividerExists = function () {
                return document.querySelectorAll('.atome-product-price-divider').length > 0
            }


            var addStyleText = function (id, css) {
                if (document.getElementById(id)) {
                    return false;
                }
                css = Array.isArray(css) ? css.join('\n') : css;
                var head = document.head || document.getElementsByTagName('head')[0];
                var style = document.createElement('style');
                style.id = id;
                style.appendChild(document.createTextNode(css));
                head.appendChild(style);
                return true;
            };

            if (/halobe.sg|tarabliss.com.sg/.test(location.hostname) && /\/checkout/.test(location.pathname)) {
                pluginCss.push('.atome-icon {width: initial !important;}');
                pluginCss.push('.atome-icon ~ img {width: initial !important;}');
            } else if (/otobodycare.com/.test(location.hostname)) {
                pluginCss.push('.product-type-variable p.price + .atome-wc-price-divider {display: none !important;}');
                pluginCss.push(
                    '.atome-wc-price-divider span>span>span {color: inherit !important;}',
                    '.single-product.simple-product .woo_c-product-details-variations:not(.variations_form) .variations_button {top: 75px;}',
                );
                pluginCss.push('.payment_box.payment_method_atome {display: block !important;}');
            } else if (/originmattress.com/.test(location.hostname)) {
                pluginCss.push('.atome-icon ~ img {display:none !important;}');
            } else if (/artgenius.com/.test(location.hostname)) {
                pluginCss.push(
                    '.ps-product--detail p.ps-product__price + .atome-wc-price-divider {margin-top: 20px;margin-bottom: -20px;}',
                );
            } else if (/keeveshoes.com/.test(location.hostname)) {
                pluginCss.push('.atome-wc-price-divider span {font-size: 10px !important; color: #837562 !important;}');
            } else if (/shop.begolfpro.com/.test(location.hostname)) {
                pluginCss.push('li.payment_method_atome .atome-icon {margin-bottom: 4px;}');
            } else if (/renwellness.store/.test(location.hostname)) {
                pluginCss.push('.price.hidden + .atome-wc-price-divider {display: none;}');
            } else if (/asavagroup.com/.test(location.hostname)) {
                pluginCss.push(
                    '.atome-product-price-divider img.atome-logo[data-atome-logo] { display: inline-block; width: auto; height: 16px !important; vertical-align: baseline; cursor: pointer;margin: initial;margin-bottom: -2.18px;}',
                );
            } else if (/albaits.com/.test(location.hostname)) {
                pluginCss.push('.atome-wc-price-divider>span>span>span {color: #e0b17a !important;}');
            } else if (/neovable.com/.test(location.hostname)) {
                if (!isProductPage) {
                    pluginCss.push('.starwrapper ~ .atome-product-price-divider {margin: -10px 0 0 0;}');
                }
                pluginCss.push('.atome-product-price-divider img.atome-logo[data-atome-logo] {vertical-align:baseline; margin-bottom: -2.8px;}');
            } else if (/goldenmoments.sg/.test(location.hostname)) {
                pluginCss.push('.atome-wc-price-divider span>span>span {color: inherit !important;}');
                pluginCss.push('.atome-wc-price-divider img {opacity: 0.7;}');
                pluginCss.push('.atome-product-price-divider .atome-product-installment-price {color: inherit !important;}');
                pluginCss.push('.atome-product-price-divider img.atome-logo[data-atome-logo] {opacity: 0.7;}');
                logoUrl = 'https://gateway.apaylater.com/plugins/common/assets/svg/logo-pd-dark.svg';
            } else if (/superdry.th/.test(location.hostname)) {
                pluginCss.push('.atome-product-price-divider {padding: 0 10px;}');
            } else if (/www.typhoonsystems.asia/.test(location.hostname)) {
                pluginCss.push('.atome-wc-price-divider>span {color: #fff !important;}');
                pluginCss.push('.atome-wc-price-divider>span>span>span {color: #fff !important;}');
            } else if (/thepeppycurator.com/.test(location.hostname)) {
                pluginCss.push('.atome-product-price-divider {font-size:12px;');
            } else if (/www.ruiipc.com.sg/.test(location.hostname)) {
                pluginCss.push('.atome-product-price-divider{color:#555; display:block !important;}');
            } else if (/bedisupreme.com/.test(location.hostname)) {
                pluginCss.push('.atome-product-installment-price{font-family: "kanit" !important;}');
            } else if (/www.inthiga.com.my/.test(location.hostname)) {
                if (location.pathname === '/') {
                    pluginCss.push('.atome-product-installment-price{color: white !important;}');
                    logoUrl = 'https://gateway.apaylater.com/plugins/common/assets/svg/logo-pd-dark.svg';
                }
            } else if (/www.jiehaghazali.com/.test(location.hostname)) {
                pluginCss.push('.atome-product-installment-price {word-break: break-word !important; white-space: break-spaces !important;     font-weight: normal !important;}');
                pluginCss.push('.atome-product-price-divider{ word-spacing: normal !important; font-size:12px}')
                pluginCss.push('.atome-product-price-divider img.atome-logo[data-atome-logo]{ height: 12px !important;}')
            } else if (/verdulife.com/.test(location.hostname)) {
                pluginCss.push('img.atome-logo{ padding: 0 !important; background: transparent !important}')
            }

            addStyleText('atome-payment-plugin-price-divider-common', pluginCss);

            function createPriceDividerEle() {
                var str = '<div class="atome-product-price-divider">',
                    eleStrs = {
                        installment_price: '<span class="atome-product-installment-price"></span>',
                        atome_logo: '<img data-atome-logo class="atome-icon atome-logo" src="' + logoUrl + '"  alt="Atome" />',
                    };

                if (opts['priceTemplate']) {
                    str += opts['priceTemplate'].AtomeFormat(eleStrs);
                } else {
                    str += 'or 3 payments of ';
                    str += eleStrs['installment_price'];
                    str += ' with ';
                    str += eleStrs['atome_logo'];
                }

                str += '</div>';

                return $(str);
            }

            function parsePriceText(s) {
                const r = (s + '').match(/^([^\d]*)(\d|\d.*\d)([^\d]*)$/);
                if (!r) {
                    return false;
                }

                let prefix = r[1];
                let priceText = r[2];
                let suffix = r[3];

                let precision = 2;
                let thousandsFormat = true;
                let pieces;
                if (currentCurrency === 'IDR' || /c-sheon.com/.test(location.hostname)) {
                    pieces = priceText.split(',');
                    if (pieces[0].indexOf('.') != -1) {
                        pieces[0] = pieces[0].replace(/\./g, '');
                        thousandsFormat = true;
                    }
                    if (pieces[1]) {
                        precision = pieces[1].length;
                        priceText = pieces[0] + '.' + pieces[1];
                    } else {
                        priceText = pieces[0];
                    }
                } else {
                    pieces = priceText.split('.');
                    if (pieces[0].indexOf(',') != -1) {
                        thousandsFormat = true;
                    }
                    if (pieces[1]) {
                        precision = pieces[1].length;
                    }
                }

                // we assume the price format is "1,234.56" now, no more supported currency
                priceText = priceText.replace(/,/g, '');
                const price = parseFloat(priceText);
                if (!price || isNaN(price)) {
                    return null;
                }

                return {
                    prefix: prefix,
                    price: price,
                    suffix: suffix,
                    precision: precision,
                    thousands_format: thousandsFormat
                };
            }

            function formatPriceText(priceInstallment, options) {
                let thousandsSeparator = ',';
                let decimalPoint = '.';

                if (options && options['precision']) {
                    priceInstallment = priceInstallment.toFixed(options['precision']);
                }

                if (currentCurrency === 'IDR' || /c-sheon.com/.test(location.hostname)) {
                    thousandsSeparator = '.';
                    decimalPoint = ',';
                }

                if (options && options['thousands_format']) {
                    const pieces = (priceInstallment + '').split('.');
                    priceInstallment = pieces[0].replace(/\B(?=(?:\d{3})+$)/g, thousandsSeparator);
                    if (pieces[1]) {
                        priceInstallment += decimalPoint;
                        priceInstallment += pieces[1];

                        const zeroPaddingNum = options['precision'] - pieces[1].length;
                        if (zeroPaddingNum > 0) {
                            priceInstallment += '00000'.substr(0, zeroPaddingNum);
                        }
                    }
                }

                return options['prefix'] + priceInstallment + options['suffix'];
            }

            var totalUpdatedCount = 0;
            var updatePriceDivider = function (csProductContainer, csPrice, csPriceDividerContainer, insertMode) {
                var $productContainers = $(csProductContainer);
                var shownCount = 0;
                $productContainers.each(function () {
                    var $this = $(this);

                    if (/kinohimitsu.com/.test(location.host) && window.matchMedia('(max-width: 999px)').matches) {
                        var $addToCartBtn = $this.find('div.product-add-to-cart');
                        if (
                            $addToCartBtn.length &&
                            !$addToCartBtn.hasClass('bottom-200') &&
                            $addToCartBtn.css('position') == 'absolute'
                        ) {
                            var bottom = $addToCartBtn.css('bottom') + '';
                            if (bottom && bottom.indexOf('px') != -1) {
                                bottom = bottom.substring(0, bottom.indexOf('px'));
                            }

                            if (bottom < 0) {
                                bottom -= 50;
                                $addToCartBtn.css('bottom', bottom + 'px');
                                $addToCartBtn.addClass('bottom-200');
                            }
                        }
                    }

                    if ($this.find('.atome-wc-price-divider .atome-icon').length) {
                        if (/otobodycare.com|lustrouomo.com|revolution.com.sg|goldenmoments.sg/.test(location.hostname) || (/albaits.com/.test(location.hostname) && !isProductPage)) {
                            $this.find('.atome-wc-price-divider .atome-icon').each(function (_) {
                                this.src = 'https://gateway.apaylater.com/plugins/common/assets/svg/logo-pd-dark.svg';
                                this.style.marginBottom = '2px';
                            });
                        }

                        if (/designcollection.dk/.test(location.hostname)) {
                            if ($this.hasClass('summary')) {
                                if ($this.find('.atome-wc-price-divider').length > 1) {
                                    $this.find('p.price + .atome-wc-price-divider').remove();
                                }

                                $this
                                    .find(
                                        'span.price .atome-wc-price-divider span, span.price .atome-wc-price-divider .woocommerce-Price-amount',
                                    )
                                    .css({
                                        cssText: 'font-size: calc(14px + .32vw)!important;',
                                    });
                            } else {
                                var $atomeIcon = $this.find('.atome-icon');
                                $atomeIcon.css({
                                    cssText:
                                        'display:inline-block;width:auto !important;position:relative;vertical-align:middle;cursor:pointer;float:none;height: 11px; margin: 0 0 2px 0 !important',
                                });
                                $atomeIcon.prev('span').css('font-size', '10px');
                                $atomeIcon.prev('span').children('span').css('font-size', '10px');
                                $atomeIcon.prev('span').find('.woocommerce-Price-amount').css('font-size', '10px');
                            }
                        }
                        if (/urbanize.com.ph/.test(location.hostname)) {
                            $('.woovr-variation-price .atome-wc-price-divider').remove();
                        }

                        if (/bycaxs.com/.test(location.hostname)) {
                            var $atomeIcon = $this.find('.atome-icon');
                            $atomeIcon.css('height', '14px');
                            $atomeIcon.css('margin', '0 0 2px 0');
                            $atomeIcon.prev('span').css('font-size', '12px');
                            $atomeIcon.prev('span').children('span').css('font-size', '12px');
                        }

                        if (/rawbought.com/.test(location.hostname)) {
                            var $atomeIcon = $this.find('.atome-icon');
                            $atomeIcon.prev('span').css({'font-size': '13px', color: '#636363'});
                            $atomeIcon.prev('span').children('span').css('font-size', '13px');
                        }

                        if (/designcollection.sg/.test(location.hostname)) {
                            var $atomeIcon = $this.find('.atome-icon');
                            let fontSize = 6,
                                marginBottom = -0.99;
                            if (window.screen.width >= 1080) {
                                fontSize = 10;
                                marginBottom = -1.28;
                            }
                            $atomeIcon.prev('span').css({
                                cssText: 'font-size: ' + fontSize + 'px !important;',
                            });
                            $atomeIcon.prev('span').find('span').each(() => {
                                $(this).css({
                                    cssText: 'font-size: ' + fontSize + 'px !important;',
                                });
                            })
                            pluginCss = [
                                '.atome-wc-price-divider>span>span>span>span.woocommerce-Price-amount, .atome-wc-price-divider>span>span>span>span.woocommerce-Price-amount>bdi>span.woocommerce-Price-currencySymbol,.entry-summary p.price span.atome-product-installment-price {font-size: ' + fontSize + 'px !important;}',
                            ];
                            addStyleText('atome-payment-plugin-price-divider-common-1', pluginCss);
                            $atomeIcon.css({
                                cssText:
                                    'display:inline-block;width:auto !important;height:' +
                                    fontSize +
                                    'px !important;position:relative;vertical-align:baseline;margin-bottom:' +
                                    marginBottom +
                                    'px !important;',
                            });
                        }

                        if (/dermalene.com/.test(location.hostname)) {
                            var $atomeIcon = $this.find('.atome-icon');
                            let fontSize = isProductPage ? 16 : 11,
                                marginBottom = isProductPage ? -2.32 : -1.5;
                            $atomeIcon.prev('span').css({'font-size': fontSize + 'px'});
                            $atomeIcon
                                .prev('span')
                                .children('span')
                                .css({
                                    cssText: 'font-size: ' + fontSize + 'px',
                                });
                            $atomeIcon.css({
                                cssText:
                                    'display:inline-block;width:auto !important;height:' +
                                    fontSize +
                                    'px !important;position:relative;vertical-align:baseline;margin-bottom:' +
                                    marginBottom +
                                    'px !important;',
                            });
                        }

                        if (/superberry.me|whathewants.com.my/.test(location.hostname)) {
                            $priceDivider = $(this).find('.atome-wc-price-divider');
                            if ($priceDivider) {
                                if (!isProductPage && $priceDivider.parent().hasClass('price')) {
                                    $priceDivider.insertAfter($priceDivider.parent());
                                    $priceDivider.css('float', 'right');
                                } else if (isProductPage && $priceDivider.siblings('p.price').length) {
                                    $priceDivider.appendTo($priceDivider.siblings('p.price'));
                                }
                            }
                        }

                        if (/www.nuvanta.com.sg/.test(location.hostname)) {
                            $this.find('.atome-wc-price-divider span').css({
                                cssText: 'font-size: 0.65rem !important'
                            });
                            $this.find('.atome-icon').each((index, ele) => {
                                ele.style.cssText = ele.style.cssText + 'height: 11px !important; margin-bottom: 2px;'
                            });
                        }

                        if (/yuyucollection.com.sg/.test(location.hostname)) {
                            $this.find('.atome-icon').parents('.atomeLabel').remove();
                        } else if (/blackpaint.com.my/.test(location.hostname)) {
                            const $atomePriceDivider = $this.find('.atome-wc-price-divider');
                            const $descriptionEle = $atomePriceDivider.siblings('.woocommerce-product-details__short-description');
                            if ($descriptionEle.length) {
                                const fontSize = $descriptionEle.css('font-size');
                                $atomePriceDivider.find('span').each(function () {
                                    $(this).css('font-size', fontSize);
                                });
                                $atomePriceDivider.find('.atome-icon').css('height', fontSize);
                            }
                            return;
                        } else {
                            return;
                        }
                    }

                    if (/illy.my/.test(location.hostname) && $this.find('.atome-wc-price-divider').length) {
                        return;
                    }

                    var $priceDivider = $this.find('.atome-product-price-divider');
                    var $price;
                    if ($priceDivider.length === 0) {
                        $priceDivider = createPriceDividerEle();
                        $priceDividerContainers = $this.find(csPriceDividerContainer);
                        if (!$priceDividerContainers || !$priceDividerContainers.length) {
                            $priceDividerContainers = $this;
                        }
                        $priceDividerContainers.each(function () {
                            if (this.offsetParent === null) {
                                return;
                            }
                            if (
                                isProductPage &&
                                typeof atomePaymentPluginPriceDividerOptions != 'undefined' &&
                                atomePaymentPluginPriceDividerOptions.price_divider_created_by === 'script' &&
                                atomePaymentPluginPriceDividerOptions.price_divider_position !== 'below_product_price'
                            ) {
                                const $addToCartBtn = $this.find(
                                    'button[name="add-to-cart"], .woocommerce-variation-add-to-cart .single_add_to_cart_button, .woocommerce-variation-add-to-cart',
                                );
                                if (atomePaymentPluginPriceDividerOptions.price_divider_position === 'above_add_to_cart') {
                                    if ($addToCartBtn.length) {
                                        if (/shopbasicmade.com/.test(location.hostname)) {
                                            $addToCartBtn.parent().before($priceDivider);
                                        } else {
                                            ($addToCartBtn.siblings('.quantity') || $addToCartBtn).before($priceDivider);
                                        }
                                    }
                                } else if (atomePaymentPluginPriceDividerOptions.price_divider_position === 'below_add_to_cart') {
                                    if ($addToCartBtn.length) {
                                        $addToCartBtn.first().after($priceDivider);
                                    }
                                }
                            } else if (/neovable.com/.test(location.hostname) && !isProductPage) {
                                let $mountTarget = $(this).parent().siblings('.starwrapper');
                                if (!$mountTarget.length) {
                                    $mountTarget = $(this).parent();
                                }
                                $mountTarget.after($priceDivider);
                            } else if (/tglstudio.com/.test(location.hostname) && $(this).parents('ul.products').length) {
                                let $mountTarget = $(this).parent().parent();
                                $mountTarget.after($priceDivider);
                            } else if (/stancephilippines.com/.test(location.hostname) && $(this).parents('.elementor-widget-container').length) {
                                let $mountTarget = $(this).parent();
                                $mountTarget.after($priceDivider);
                            } else if (/superdry.th/.test(location.hostname)) {
                                const $mountTarget = $(this).parents('.elementor-container').eq(0);
                                $mountTarget.after($priceDivider);
                            } else if (/ifmal.com/.test(location.hostname)) {
                                if (isProductPage) {
                                    const $mountTarget = $('form[class="cart"]');
                                    $mountTarget.after($priceDivider);
                                }
                            } else if (/www.flightergo.com/.test(location.hostname)) {
                                if (isProductPage) {
                                    $('.product-details .price-holder>div:last').after($priceDivider);
                                } else {
                                    $(this).after($priceDivider);
                                }
                            } else if (/verdulife.com/.test(location.hostname)) {
                                $(this).after($priceDivider);
                            } else if (/porcelainskin.com/.test(location.hostname)) {
                                if (/\/shop\//.test(location.pathname)) {
                                    $(this).parent().find('span.stamped-product-reviews-badge:first').after($priceDivider);
                                } else {
                                    $(this).after($priceDivider);
                                }
                            } else if (/aerishealth.com.sg/.test(location.hostname)) {
                                $(this).closest(".elementor-container").after($priceDivider);
                            } else if (/shopbeachme.com/.test(location.hostname)) {
                                $(this).after($priceDivider);
                            } else {
                                $(this)[insertMode]($priceDivider);
                            }
                            var i = 0,
                                $priceList = $(this).find(csPrice[0]);

                            while (!$priceList.length && i < csPrice.length) {
                                $priceList = $(this).find(csPrice[i++]);
                            }
                            if (!$priceList.length) {
                                return;
                            }
                            $priceList.each(function () {
                                if (this.offsetParent === null) {
                                    return;
                                }
                                $price = $(this);
                            });
                        });
                    } else {
                        var i = 0,
                            $priceList = $priceDividerContainers.find(csPrice[0]);
                        while (!$priceList.length && i < csPrice.length) {
                            $priceList = $priceDividerContainers.find(csPrice[i++]);
                        }
                        if (!$priceList.length) {
                            return;
                        }
                        $priceList.each(function () {
                            if (this.offsetParent === null) {
                                return;
                            }
                            $price = $(this);
                        });

                    }

                    if (!$price || !$price.length) {
                        $priceDivider.hide();
                        return;
                    }
                    let priceText = $price.text();
                    if (/plieindonesia.com/.test(location.hostname)) {
                        const texts = priceText.replaceAll(",", '.').split('.');
                        texts.pop();
                        priceText = texts.join('')
                    }

                    const parsedPrice = parsePriceText(priceText);
                    if (/bedisupreme.com/.test(location.hostname)) {
                        parsedPrice.precision = 2;
                        parsedPrice.suffix = ' บาท';
                    }
                    if (
                        !parsedPrice ||
                        parsedPrice.price < 1 ||
                        (typeof atomePaymentPluginPriceDividerOptions != 'undefined' &&
                            parsedPrice.price > atomePaymentPluginPriceDividerOptions.max_spend &&
                            atomePaymentPluginPriceDividerOptions.max_spend > 0) ||
                        (/designcollection.dk|designmyspace.com/.test(location.hostname) && parsedPrice.price > 3000)
                    ) {
                        $priceDivider.hide();
                        return;
                    }

                    let priceInstallment = formatPriceText(parsedPrice.price / 3, parsedPrice);

                    if (/plieindonesia.com/.test(location.hostname)) {
                        priceInstallment = priceInstallment.replaceAll(',', '#')
                            .replaceAll('.', ',')
                            .replaceAll('#', '.')
                    }


                    $priceDivider.find('.atome-product-installment-price').text(priceInstallment);
                    if (/ogawa.com.sg/.test(location.hostname)) {
                        $price.after($priceDivider);
                        $priceDivider.find('.atome-product-installment-price').css({
                            background: 'inherit',
                            color: 'inherit',
                            padding: 'inherit',
                            'font-style': 'inherit',
                        });
                        $priceDivider.find('.atome-icon').css({
                            'vertical-align': 'baseline',
                            'margin-bottom': '-2.18px'
                        });
                    } else if (/floordepot2u.com/.test(location.hostname)) {
                        $this.find(csPriceDividerContainer).after($priceDivider);
                    } else if (/designcollection.sg/.test(location.hostname)) {
                        let fontSize = 6,
                            marginBottom = -0.99;
                        if (window.screen.width >= 1080) {
                            fontSize = 10;
                            marginBottom = -1.28;
                        }

                        $priceDivider.css({
                            cssText: 'font-size: ' + fontSize + 'px !important;',
                        });
                        pluginCss = [
                            '.atome-product-price-divider>span>span>span>span.woocommerce-Price-amount, .atome-product-price-divider>span>span>span>span.woocommerce-Price-amount>bdi>span.woocommerce-Price-currencySymbol,.entry-summary p.price span.atome-product-installment-price {font-size: ' +
                            fontSize +
                            'px !important;}',
                        ];
                        addStyleText('atome-payment-plugin-price-divider-common-2', pluginCss);
                        $priceDivider.find('.atome-icon').css({
                            cssText:
                                'width:auto;display:inline-block;vertical-align:baseline;height:' +
                                fontSize +
                                'px !important;margin-bottom:' +
                                marginBottom +
                                'px !important',
                        });
                    }
                    $priceDivider.show();
                    shownCount++;
                });
                totalUpdatedCount += shownCount;
                return shownCount;
            };

            var updatePriceBoxes = function () {
                var csPrice = [
                    '.rightpress_product_price_live_update_price', // for https://asavagroup.com/
                    'ins .woocommerce-Price-amount',
                    '.woocommerce-Price-amount',
                    'h4',
                    '.calculated-price .total_price span.amount',
                ];

                var search_css_selectors = [
                    '.elementor-add-to-cart.elementor-product-simple', // product for https://floordepot2u.com/
                    'div.product .box',
                    'ul.products li.product', // also supports related products
                    '.product-item',
                    'div.product div.summary, .elementor-widget-woocommerce-product-price', //product details, for https://miajees.com/
                    '.product-single-information',
                    '.single-product-builder .et_product-block', // for https://c-sheon.com/
                    '.single_variation_wrap', // for https://www.nosda.com.my/
                    '.elementor-widget-jet-single-price', // for https://ola.tech/
                    '.content-with-products .products .product', // for https://americana.id/
                ];

                if (/irentmo\.com/.test(location.hostname) && atomePaymentPluginPriceDividerOptions.price_divider_applied_on === 'all') {
                    search_css_selectors = [
                        '.products li.product .woocommerce-LoopProduct-link .price',
                        '.et_pb_wc_price .price',
                    ]
                }

                if (
                    typeof atomePaymentPluginPriceDividerOptions != 'undefined' &&
                    atomePaymentPluginPriceDividerOptions.price_divider_applied_on === 'product'
                ) {
                    search_css_selectors = [
                        '.et-pro-summary-content .single_variation_wrap', // product for https://shopbasicmade.com/
                        '.elementor-add-to-cart.elementor-product-simple', // product for https://floordepot2u.com/
                        '.product .jet-sticky-column', // for https://itsu.world/
                        'div.product div.summary',
                        '.product-single-information',
                        '.single-product-builder .et_product-block', // for https://c-sheon.com/
                        '.single_variation_wrap', // for https://www.nosda.com.my/
                        '.elementor-row .elementor-widget-wrap .elementor-widget-woocommerce-product-price', // for https://love-and-co.com/
                        'div[data-elementor-type="product"] .elementor-widget-wrap.elementor-element-populated > section:first-of-type', // for https://www.superdry.th/
                        '.et_pb_module_inner', // for https://irentmo.com/
                        '.elementor-widget-jet-single-price', // for https://ola.tech/
                    ];

                    if (/irentmo\.com/.test(location.hostname)) {
                        search_css_selectors = [
                            '.et_pb_wc_price .price',
                        ]
                    }
                }

                let csPriceDividerContainer = 'span.price, p.price, .price-style, .wc-measurement-price-calculator-price-table';
                if (/papertuity.com/.test(location.host)) {
                    csPriceDividerContainer = 'span.price, .price-style, .wc-measurement-price-calculator-price-table, .tm-totals-form-main .tm-custom-price-totals';
                    search_css_selectors = ['.tm-extra-product-options-totals']
                } else if (/www.nikonekomatcha.com/.test(location.hostname)) {
                    search_css_selectors.push('.product #textside');
                    csPrice.push('.x-text-content');
                    csPriceDividerContainer += ', .price';
                } else if (/www.vzow.com/.test(location.hostname)) {
                    csPrice.push('.perz-item-value.perz-item-value-prices')
                    search_css_selectors = [
                        'div.product .box',
                        '.product-price-container',
                        '.perz-item-container'
                    ];
                    if (document.querySelectorAll('.atome-product-price-divider').length > 0) {
                        return;
                    }
                } else if (/www.ruiipc.com.sg/.test(location.hostname)) {
                    const isProductPage = (new URL(document.location)).searchParams.get("product");
                    if (!isProductPage && document.querySelectorAll('.atome-product-price-divider').length > 0) {
                        return;
                    } else {
                        search_css_selectors = [
                            '.summary > ins',
                        ];
                    }
                } else if (/musicpark.com.hk/.test(location.hostname)) {
                    search_css_selectors = [
                        '.product-info .price-wrapper .price',
                    ];
                } else if (/ola.tech/.test(location.hostname)) {
                    if (typeof atomePaymentPluginPriceDividerOptions != 'undefined' &&
                        atomePaymentPluginPriceDividerOptions.price_divider_applied_on === 'product') {
                        if (document.querySelectorAll('.atome-product-price-divider').length > 0) {
                            return;
                        }
                    }
                } else if (/bedisupreme.com/.test(location.hostname)) {
                    if (isProductPage) {
                        csPrice = [
                            '.woocommerce-Price-amount.amount:last'
                        ]
                        csPriceDividerContainer = '';
                        search_css_selectors = [
                            '.product-info .price',
                        ]
                    }
                } else if (/plieindonesia.com/.test(location.hostname)) {
                    if (isProductPage) {
                        search_css_selectors = [
                            '.product-image-summary .price',
                        ]
                    }
                } else if (/mjdotco.com|www.hanatasha.com.my|lavella.com.my|www.jiehaghazali.com|www.lavella-abaya.com/.test(location.hostname)) {
                    if (!isProductPage) {
                        search_css_selectors = [
                            '.product-grid-item .price',
                        ]
                        if (isAnyPriceDividerExists()) {
                            return;
                        }
                    } else {
                        if (/www.jiehaghazali.com/.test(location.hostname)) {
                            search_css_selectors = [
                                '.product-image-summary .price',
                            ]
                        }
                    }
                } else if (/fdf.com.my/.test(location.hostname)) {
                    if (isProductPage) {
                        search_css_selectors = [
                            '.product-main .price',
                        ]
                    } else {
                        search_css_selectors = [
                            '.product .price',
                        ]
                    }
                    if (isAnyPriceDividerExists()) {
                        return;
                    }
                } else if (/www.lipscarpenter.com/.test(location.hostname)) {
                    if (isProductPage) {
                        search_css_selectors = [
                            '.elementor-widget-woocommerce-product-price',
                        ]
                    }
                } else if (/www.inthiga.com.my/.test(location.hostname)) {
                    if (!isProductPage) {
                        search_css_selectors = [
                            '.col .price-wrapper>.price',
                        ]
                    }
                    if (isAnyPriceDividerExists()) {
                        return;
                    }
                } else if (/ifmal.com/.test(location.hostname)) {
                    if (isProductPage) {
                        search_css_selectors = [
                            '.product-information .price .non-member-price',
                        ]
                    }
                    if (isAnyPriceDividerExists()) {
                        return;
                    }
                } else if (/ogawaworld.hk/.test(location.hostname)) {
                    if (isProductPage) {

                    } else {
                        search_css_selectors = [
                            '.product-grid-item .price',
                        ]
                    }
                    if (isAnyPriceDividerExists()) {
                        return;
                    }
                } else if (/kuwetbuy.com/.test(location.hostname)) {
                    search_css_selectors = [
                        '.et_pb_column .price',
                        '.summary .price'
                    ]
                } else if (/beautyfacesg.com/.test(location.hostname)) {
                    search_css_selectors = [
                        '.product-details-content .price,.single-product .price',
                    ]
                } else if (/twodogs.com.sg/.test(location.hostname)) {
                    search_css_selectors = [
                        '.product .price',
                    ]
                } else if (/www.flightergo.com/.test(location.hostname)) {
                    if (isProductPage) {
                        search_css_selectors = [
                            '.product-details .price',
                        ]
                    } else {
                        search_css_selectors = [
                            '.product-box .price-holder'
                        ]
                    }
                } else if (/www.airvida.sg/.test(location.hostname)) {
                    search_css_selectors = [
                        '.dt-owl-item .price',
                        '.elementor-section .price'
                    ]
                } else if (/verdulife.com/.test(location.hostname)) {
                    search_css_selectors = [
                        '.elementor-widget-woocommerce-product-price .price',
                        'li.product .price'
                    ]
                } else if (/porcelainskin.com/.test(location.hostname)) {
                    if (!/\/shop\//.test(location.pathname)) {
                        search_css_selectors = [
                            '.product .price',
                        ]
                    }
                } else if (/aerishealth.com.sg/.test(location.hostname)) {
                    if (isProductPage) {
                        search_css_selectors = [
                            '.elementor-container .elementor-widget-wrap .elementor-container .elementor-element .wcpbc-price',
                        ]
                    }
                } else if (/shopbeachme.com/.test(location.hostname)) {
                    if (isProductPage) {
                        search_css_selectors = [
                            '.product .col-inner .price',
                        ]
                    } else {
                        search_css_selectors = [
                            '.product .price-wrapper'
                        ]
                    }
                }

                if (isAnyPriceDividerExists()) {
                    return;
                }


                updatePriceDivider(
                    search_css_selectors.join(', '),
                    csPrice,
                    csPriceDividerContainer,
                    'append',
                );
            };


            const customsizeCheckoutImage = () => {
                $('.atome-icon').attr('src', 'https://gateway.apaylater.com/plugins/common/assets/svg/logo-pd-dark.svg');
            };

            const customsizeCheckoutOption = function () {
                const $atomePaymentBox = $('.payment_box.payment_method_atome');
                if (!$atomePaymentBox.length) {
                    return;
                }
                let extraText = '';
                const $totalAmount = $('.order-total .woocommerce-Price-amount');
                if ($totalAmount.length) {
                    const parsedAmount = parsePriceText($totalAmount.text());
                    const amountInstallment = formatPriceText(parsedAmount.price / 3, parsedAmount);
                    extraText += '3 payments of ';
                    extraText += amountInstallment;
                    extraText += ' with Atome.<br>';
                }

                const extraEle = document.createElement('p');
                extraEle.innerHTML = extraText + 'Valid for total purchase above RM500 only.';
                $(extraEle).insertBefore($atomePaymentBox.children().eq(0));
            };

            const customsizePricedivider = function () {
                const $priceDividers = $('.atome-wc-price-divider');
                if (!$priceDividers.length) {
                    return;
                }
                $priceDividers.each(function () {
                    const $this = $(this);
                    if ($this.find('.atome-extra-info').length) {
                        return;
                    }
                    const $extraEle = $('<span class="atome-extra-info">Valid for total purchase above RM500 only.</span>');
                    $extraEle.css('display', 'block');
                    $extraEle.css('font-size', $this.find('span').css('font-size'));
                    $(this).append($extraEle);
                });
            };

            const removeCheckoutPaymentIcon = function () {
                const $atomeLabel = $('li.payment_method_atome > label');
                if ($atomeLabel) {
                    $atomeLabel.find('img.atome-icon').remove();
                    $atomeLabel.contents().filter(function () {
                        return this.nodeType === 3;
                    }).map(function () {
                        this.textContent = this.textContent.replace(' - ', '');
                    })
                }
            }

            if (/shop.begolfpro.com/.test(location.hostname)) {
                customsizeCheckoutOption();
                customsizePricedivider();
            }


            if (/urbanize.com.ph/.test(location.hostname) && /\/checkout/.test(location.pathname)) {
                removeCheckoutPaymentIcon();
            }

            updatePriceBoxes();

            $(document).ajaxStop(function () {
                setTimeout(updatePriceBoxes, 100);
                if (/shop.begolfpro.com/.test(location.hostname)) {
                    setTimeout(customsizeCheckoutOption, 100);
                    setTimeout(customsizePricedivider, 100);
                }
                if (/revolution.com.sg|sabermach.com|www.typhoonsystems.asia/.test(location.hostname)) {
                    customsizeCheckoutImage();
                }
                if (/urbanize.com.ph/.test(location.hostname) && /\/checkout/.test(location.pathname)) {
                    removeCheckoutPaymentIcon();
                }
            });
            $(document).on('click mouseup change input', function () {
                setTimeout(updatePriceBoxes, 100);
                setTimeout(updatePriceBoxes, 2000);
                if (/shop.begolfpro.com/.test(location.hostname)) {
                    setTimeout(customsizePricedivider, 100);
                }
            });
        });
    }

    insertDomainJs(() => {
        // @formatter:off
        // SparkMD5
        (function(factory){if(typeof exports==="object"){module.exports=factory()}else if(typeof define==="function"&&define.amd){define(factory)}else{var glob;try{glob=window}catch(e){glob=self}glob.SparkMD5=factory()}})(function(undefined){"use strict";var add32=function(a,b){return a+b&4294967295},hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function cmn(q,a,b,x,s,t){a=add32(add32(a,q),add32(x,t));return add32(a<<s|a>>>32-s,b)}function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a+=(b&c|~b&d)+k[0]-680876936|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[1]-389564586|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[2]+606105819|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[3]-1044525330|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[4]-176418897|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[5]+1200080426|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[6]-1473231341|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[7]-45705983|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[8]+1770035416|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[9]-1958414417|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[10]-42063|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[11]-1990404162|0;b=(b<<22|b>>>10)+c|0;a+=(b&c|~b&d)+k[12]+1804603682|0;a=(a<<7|a>>>25)+b|0;d+=(a&b|~a&c)+k[13]-40341101|0;d=(d<<12|d>>>20)+a|0;c+=(d&a|~d&b)+k[14]-1502002290|0;c=(c<<17|c>>>15)+d|0;b+=(c&d|~c&a)+k[15]+1236535329|0;b=(b<<22|b>>>10)+c|0;a+=(b&d|c&~d)+k[1]-165796510|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[6]-1069501632|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[11]+643717713|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[0]-373897302|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[5]-701558691|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[10]+38016083|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[15]-660478335|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[4]-405537848|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[9]+568446438|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[14]-1019803690|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[3]-187363961|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[8]+1163531501|0;b=(b<<20|b>>>12)+c|0;a+=(b&d|c&~d)+k[13]-1444681467|0;a=(a<<5|a>>>27)+b|0;d+=(a&c|b&~c)+k[2]-51403784|0;d=(d<<9|d>>>23)+a|0;c+=(d&b|a&~b)+k[7]+1735328473|0;c=(c<<14|c>>>18)+d|0;b+=(c&a|d&~a)+k[12]-1926607734|0;b=(b<<20|b>>>12)+c|0;a+=(b^c^d)+k[5]-378558|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[8]-2022574463|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[11]+1839030562|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[14]-35309556|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[1]-1530992060|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[4]+1272893353|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[7]-155497632|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[10]-1094730640|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[13]+681279174|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[0]-358537222|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[3]-722521979|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[6]+76029189|0;b=(b<<23|b>>>9)+c|0;a+=(b^c^d)+k[9]-640364487|0;a=(a<<4|a>>>28)+b|0;d+=(a^b^c)+k[12]-421815835|0;d=(d<<11|d>>>21)+a|0;c+=(d^a^b)+k[15]+530742520|0;c=(c<<16|c>>>16)+d|0;b+=(c^d^a)+k[2]-995338651|0;b=(b<<23|b>>>9)+c|0;a+=(c^(b|~d))+k[0]-198630844|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[7]+1126891415|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[14]-1416354905|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[5]-57434055|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[12]+1700485571|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[3]-1894986606|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[10]-1051523|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[1]-2054922799|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[8]+1873313359|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[15]-30611744|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[6]-1560198380|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[13]+1309151649|0;b=(b<<21|b>>>11)+c|0;a+=(c^(b|~d))+k[4]-145523070|0;a=(a<<6|a>>>26)+b|0;d+=(b^(a|~c))+k[11]-1120210379|0;d=(d<<10|d>>>22)+a|0;c+=(a^(d|~b))+k[2]+718787259|0;c=(c<<15|c>>>17)+d|0;b+=(d^(c|~a))+k[9]-343485551|0;b=(b<<21|b>>>11)+c|0;x[0]=a+x[0]|0;x[1]=b+x[1]|0;x[2]=c+x[2]|0;x[3]=d+x[3]|0}function md5blk(s){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24)}return md5blks}function md5blk_array(a){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24)}return md5blks}function md51(s){var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64){md5cycle(state,md5blk(s.substring(i-64,i)))}s=s.substring(i-64);length=s.length;tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1){tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3)}tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=n*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(state,tail);return state}function md51_array(a){var n=a.length,state=[1732584193,-271733879,-1732584194,271733878],i,length,tail,tmp,lo,hi;for(i=64;i<=n;i+=64){md5cycle(state,md5blk_array(a.subarray(i-64,i)))}a=i-64<n?a.subarray(i-64):new Uint8Array(0);length=a.length;tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1){tail[i>>2]|=a[i]<<(i%4<<3)}tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=n*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(state,tail);return state}function rhex(n){var s="",j;for(j=0;j<4;j+=1){s+=hex_chr[n>>j*8+4&15]+hex_chr[n>>j*8&15]}return s}function hex(x){var i;for(i=0;i<x.length;i+=1){x[i]=rhex(x[i])}return x.join("")}if(hex(md51("hello"))!=="5d41402abc4b2a76b9719d911017c592"){add32=function(x,y){var lsw=(x&65535)+(y&65535),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}}if(typeof ArrayBuffer!=="undefined"&&!ArrayBuffer.prototype.slice){(function(){function clamp(val,length){val=val|0||0;if(val<0){return Math.max(val+length,0)}return Math.min(val,length)}ArrayBuffer.prototype.slice=function(from,to){var length=this.byteLength,begin=clamp(from,length),end=length,num,target,targetArray,sourceArray;if(to!==undefined){end=clamp(to,length)}if(begin>end){return new ArrayBuffer(0)}num=end-begin;target=new ArrayBuffer(num);targetArray=new Uint8Array(target);sourceArray=new Uint8Array(this,begin,num);targetArray.set(sourceArray);return target}})()}function toUtf8(str){if(/[\u0080-\uFFFF]/.test(str)){str=unescape(encodeURIComponent(str))}return str}function utf8Str2ArrayBuffer(str,returnUInt8Array){var length=str.length,buff=new ArrayBuffer(length),arr=new Uint8Array(buff),i;for(i=0;i<length;i+=1){arr[i]=str.charCodeAt(i)}return returnUInt8Array?arr:buff}function arrayBuffer2Utf8Str(buff){return String.fromCharCode.apply(null,new Uint8Array(buff))}function concatenateArrayBuffers(first,second,returnUInt8Array){var result=new Uint8Array(first.byteLength+second.byteLength);result.set(new Uint8Array(first));result.set(new Uint8Array(second),first.byteLength);return returnUInt8Array?result:result.buffer}function hexToBinaryString(hex){var bytes=[],length=hex.length,x;for(x=0;x<length-1;x+=2){bytes.push(parseInt(hex.substr(x,2),16))}return String.fromCharCode.apply(String,bytes)}function SparkMD5(){this.reset()}SparkMD5.prototype.append=function(str){this.appendBinary(toUtf8(str));return this};SparkMD5.prototype.appendBinary=function(contents){this._buff+=contents;this._length+=contents.length;var length=this._buff.length,i;for(i=64;i<=length;i+=64){md5cycle(this._hash,md5blk(this._buff.substring(i-64,i)))}this._buff=this._buff.substring(i-64);return this};SparkMD5.prototype.end=function(raw){var buff=this._buff,length=buff.length,i,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ret;for(i=0;i<length;i+=1){tail[i>>2]|=buff.charCodeAt(i)<<(i%4<<3)}this._finish(tail,length);ret=hex(this._hash);if(raw){ret=hexToBinaryString(ret)}this.reset();return ret};SparkMD5.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};SparkMD5.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}};SparkMD5.prototype.setState=function(state){this._buff=state.buff;this._length=state.length;this._hash=state.hash;return this};SparkMD5.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length};SparkMD5.prototype._finish=function(tail,length){var i=length,tmp,lo,hi;tail[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(this._hash,tail);for(i=0;i<16;i+=1){tail[i]=0}}tmp=this._length*8;tmp=tmp.toString(16).match(/(.*?)(.{0,8})$/);lo=parseInt(tmp[2],16);hi=parseInt(tmp[1],16)||0;tail[14]=lo;tail[15]=hi;md5cycle(this._hash,tail)};SparkMD5.hash=function(str,raw){return SparkMD5.hashBinary(toUtf8(str),raw)};SparkMD5.hashBinary=function(content,raw){var hash=md51(content),ret=hex(hash);return raw?hexToBinaryString(ret):ret};SparkMD5.ArrayBuffer=function(){this.reset()};SparkMD5.ArrayBuffer.prototype.append=function(arr){var buff=concatenateArrayBuffers(this._buff.buffer,arr,true),length=buff.length,i;this._length+=arr.byteLength;for(i=64;i<=length;i+=64){md5cycle(this._hash,md5blk_array(buff.subarray(i-64,i)))}this._buff=i-64<length?new Uint8Array(buff.buffer.slice(i-64)):new Uint8Array(0);return this};SparkMD5.ArrayBuffer.prototype.end=function(raw){var buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,ret;for(i=0;i<length;i+=1){tail[i>>2]|=buff[i]<<(i%4<<3)}this._finish(tail,length);ret=hex(this._hash);if(raw){ret=hexToBinaryString(ret)}this.reset();return ret};SparkMD5.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this};SparkMD5.ArrayBuffer.prototype.getState=function(){var state=SparkMD5.prototype.getState.call(this);state.buff=arrayBuffer2Utf8Str(state.buff);return state};SparkMD5.ArrayBuffer.prototype.setState=function(state){state.buff=utf8Str2ArrayBuffer(state.buff,true);return SparkMD5.prototype.setState.call(this,state)};SparkMD5.ArrayBuffer.prototype.destroy=SparkMD5.prototype.destroy;SparkMD5.ArrayBuffer.prototype._finish=SparkMD5.prototype._finish;SparkMD5.ArrayBuffer.hash=function(arr,raw){var hash=md51_array(new Uint8Array(arr)),ret=hex(hash);return raw?hexToBinaryString(ret):ret};return SparkMD5});
        // @formatter:on

        if (
            (
                typeof window.atomePaymentPluginPriceDividerOptions.price_divider_created_by === "undefined"
                || window.atomePaymentPluginPriceDividerOptions.price_divider_created_by === 'script'
            )
            && Array.isArray(window.atomePriceDividerDomains)
            && window.atomePriceDividerDomains.indexOf(SparkMD5.hash(location.hostname)) !== -1
        ) {
            if (window.atomePaymentPluginPriceDividerOptions) {
                window.atomePaymentPluginPriceDividerOptions.platform = 'WOOCOMMERCE'
            }
            insertNewPriceDivider()
        } else {
            atomeJqueryPromise(generateAtomePriceDivider)
        }
    })
})()


